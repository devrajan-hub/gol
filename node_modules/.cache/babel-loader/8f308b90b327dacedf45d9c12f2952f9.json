{"ast":null,"code":"var _jsxFileName = \"D:\\\\rajan-work\\\\gol\\\\src\\\\components\\\\dashboard\\\\PublishUrl.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport qrcode from '../../assets/images/qrcode.png';\nimport arrow from \"../../assets/images/arrow.svg\";\nimport Sidebar from './Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PublishUrl = props => {\n  _s();\n\n  var camprowId = props.campid ? props.campid : props.location.campid;\n  var editpage = props.location.block ? props.location.block : '';\n  var campaigndata = props.location.campaign ? props.location.campaign : '';\n  const history = useHistory();\n  const [itemUrl, setUrl] = useState('0');\n  const [selectedUrl, setSelectedUrl] = useState();\n\n  const handleUrlInput = e => {\n    setSelectedUrl(e.target.value);\n  };\n\n  const generateUrl = async () => {\n    var generateurl = JSON.stringify({\n      name: selectedUrl\n    });\n    const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/generate-url`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: generateurl\n    });\n    const generateUrldata = await result.json();\n\n    if (generateUrldata) {\n      setUrl(1);\n    } // console.log('generateUrldata',generateUrldata);\n\n  };\n\n  console.log('campaigndata', campaigndata);\n\n  const saveCampaignSetting = async () => {\n    const campaignsetting = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/publish/${camprowId}`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: ''\n    });\n    const campaignresult = await campaignsetting.json();\n    console.log('campaignresult', campaignresult);\n\n    if (campaignresult.id) {\n      history.push('/camp-setting');\n    } else {\n      window.alert('Invalid Registration');\n    }\n  };\n\n  const updateGenerateUrl = async () => {\n    var generateurl = JSON.stringify({\n      name: selectedUrl\n    });\n    const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/generate-url`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: generateurl\n    });\n    const generateUrldata = await result.json();\n\n    if (generateUrldata) {\n      setUrl(1);\n    }\n  };\n\n  const updateCampaignSetting = async () => {\n    const campaignsetting = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/publish/${camprowId}`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: ''\n    });\n    const updatecampaignresult = await campaignsetting.json();\n    console.log('campaignresult', updatecampaignresult);\n\n    if (updatecampaignresult == true) {\n      history.push('/camp-setting');\n    } else {// window.alert('Invalid Registration');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2 sidebarbg pd-left0 pd-right0\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"progressbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            class: \"backbutton\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: '/data-capture',\n                campid: camprowId\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: arrow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 105\n              }, this), \"Back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"step1\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Landing screen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"step2\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Branded GOL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"step3\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Data capture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            class: \"active\",\n            id: \"step3\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Publish\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"customize-landing\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"custom-landing-fields\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"urlblock row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"add_url\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Generate URL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"This is the URL where user will create a GOL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: itemUrl == '1' ? 'hideelement' : 'generate-url',\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Part of shareable URL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group grurl\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"url\",\n                        className: \"form-control\",\n                        id: \"\",\n                        onChange: handleUrlInput,\n                        placeholder: \"your part\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \".viddey.video\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 163\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: editpage == 'edit' ? \"hideelement\" : \"btn btn-primary btn-gradient\",\n                      onClick: generateUrl,\n                      children: \"Generate\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: editpage == 'edit' ? \"btn btn-primary btn-gradient\" : \"hideelement\",\n                      onClick: updateGenerateUrl,\n                      children: \"Generate\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: itemUrl == '1' ? 'show-url' : 'hideelement',\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"url-block\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: qrcode\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                        to: \"/www.remy.gifsoutloud.com\",\n                        children: \"www.remy.gifsoutloud.com\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: editpage == 'edit' ? 'hideelement' : 'btn btn-primary btn-gradient',\n                      onClick: saveCampaignSetting,\n                      children: \"Save and Complete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: editpage == 'edit' ? 'btn btn-primary btn-gradient' : 'hideelement',\n                      onClick: updateCampaignSetting,\n                      children: \"Update and Continue\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PublishUrl, \"VKyCwcDbs9iudsOqpcvjZFMmZ+0=\", false, function () {\n  return [useHistory];\n});\n\n_c = PublishUrl;\nexport default PublishUrl;\n\nvar _c;\n\n$RefreshReg$(_c, \"PublishUrl\");","map":{"version":3,"sources":["D:/rajan-work/gol/src/components/dashboard/PublishUrl.js"],"names":["React","useState","NavLink","Link","useHistory","qrcode","Sidebar","PublishUrl","props","camprowId","campid","location","editpage","block","campaigndata","campaign","history","itemUrl","setUrl","selectedUrl","setSelectedUrl","handleUrlInput","e","target","value","generateUrl","generateurl","JSON","stringify","name","result","fetch","method","headers","localStorage","getItem","body","generateUrldata","json","console","log","saveCampaignSetting","campaignsetting","campaignresult","id","push","window","alert","updateGenerateUrl","updateCampaignSetting","updatecampaignresult","pathname","arrow"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport { NavLink,Link, useHistory } from 'react-router-dom';\r\nimport qrcode from '../../assets/images/qrcode.png';\r\nimport arrow from '../../assets/images/arrow.svg';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst PublishUrl = (props) =>{\r\n    var camprowId =  (props.campid) ? props.campid : props.location.campid;\r\n    var editpage = (props.location.block) ? props.location.block :'';\r\n    var campaigndata = (props.location.campaign) ? props.location.campaign :'';\r\n    const history = useHistory();\r\n    const [itemUrl, setUrl] = useState('0');\r\n    const[selectedUrl, setSelectedUrl] = useState();\r\n\r\n    const handleUrlInput = (e) => {\r\n        setSelectedUrl(e.target.value);\r\n    }\r\n    const generateUrl = async() =>{\r\n        var generateurl = JSON.stringify({name:selectedUrl});\r\n         const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/generate-url`,{\r\n            method : \"POST\",\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: generateurl\r\n        });\r\n        const generateUrldata = await result.json();\r\n        if(generateUrldata){\r\n            setUrl(1);\r\n        }\r\n        // console.log('generateUrldata',generateUrldata);\r\n    }\r\n    console.log('campaigndata',campaigndata);\r\n    const saveCampaignSetting = async() => {\r\n        const campaignsetting = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/publish/${camprowId}`,{\r\n            method : \"POST\",\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            body: ''\r\n        });\r\n        const campaignresult = await campaignsetting.json();\r\n        console.log('campaignresult',campaignresult);\r\n        if(campaignresult.id){\r\n            history.push('/camp-setting');\r\n        }else{\r\n            window.alert('Invalid Registration');\r\n        }\r\n    }\r\n\r\n    const updateGenerateUrl = async() =>{\r\n        var generateurl = JSON.stringify({name:selectedUrl});\r\n         const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/generate-url`,{\r\n            method : \"POST\",\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: generateurl\r\n        });\r\n        const generateUrldata = await result.json();\r\n        if(generateUrldata){\r\n            setUrl(1);\r\n        }\r\n    }\r\n \r\n    const updateCampaignSetting = async() => {\r\n        const campaignsetting = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/publish/${camprowId}`,{\r\n            method : \"POST\",\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            body: ''\r\n        });\r\n        const updatecampaignresult = await campaignsetting.json();\r\n        console.log('campaignresult',updatecampaignresult);\r\n        if(updatecampaignresult == true){\r\n            history.push('/camp-setting');\r\n        }else{\r\n            // window.alert('Invalid Registration');\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"col-md-12\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2 sidebarbg pd-left0 pd-right0\">\r\n                    <Sidebar />\r\n                </div>\r\n                <div className=\"col-md-10\">\r\n                    <ul id=\"progressbar\">\r\n                        <li class=\"backbutton\"><Link to={{pathname:'/data-capture', campid: camprowId}}><img src={arrow} />Back</Link></li>\r\n                        <li  id=\"step1\"><strong>Landing screen</strong></li>\r\n                        <li id=\"step2\"><strong>Branded GOL</strong></li>\r\n                        <li id=\"step3\"><strong>Data capture</strong></li>\r\n                        <li class=\"active\" id=\"step3\"><strong>Publish</strong></li>\r\n                    </ul>\r\n                    <div class=\"customize-landing\">\r\n                        <div class=\"custom-landing-fields\">\r\n                            <div className=\"urlblock row\">\r\n                                <div className=\"col-md-3\">\r\n                                </div>\r\n                                <div className=\"col-md-6\">\r\n                                    <div className=\"add_url\">        \r\n                                        <h2>Generate URL</h2>\r\n                                        <h4>This is the URL where user will create a GOL</h4>\r\n                                        <div className={(itemUrl == '1') ? 'hideelement' :'generate-url'}>\r\n                                            <p>Part of shareable URL</p>\r\n                                            <div className=\"form-group grurl\">\r\n                                                <input type=\"text\" name=\"url\" className=\"form-control\" id=\"\"  onChange={handleUrlInput} placeholder=\"your part\" /><p>.viddey.video</p>\r\n                                            </div>\r\n                                            <button type=\"button\" className={(editpage == 'edit') ? \"hideelement\" : \"btn btn-primary btn-gradient\"} onClick={generateUrl}>Generate</button>\r\n                                            <button type=\"button\" className={(editpage == 'edit') ? \"btn btn-primary btn-gradient\" : \"hideelement\"} onClick={updateGenerateUrl}>Generate</button>\r\n                                        </div>\r\n                                        <div className={(itemUrl == '1') ? 'show-url' :'hideelement'}>\r\n                                            <div className=\"url-block\">\r\n                                                <img src={qrcode} />\r\n                                                <NavLink to=\"/www.remy.gifsoutloud.com\">www.remy.gifsoutloud.com</NavLink>\r\n                                            </div>    \r\n                                            <button type=\"button\" className={(editpage == 'edit') ? 'hideelement':'btn btn-primary btn-gradient'} onClick={saveCampaignSetting}>Save and Complete</button>\r\n                                            <button type=\"button\" className={(editpage == 'edit') ? 'btn btn-primary btn-gradient':'hideelement'} onClick={updateCampaignSetting}>Update and Continue</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-md-3\">\r\n                                </div>    \r\n                            </div>    \r\n                        </div>    \r\n                    </div>    \r\n                </div>    \r\n            </div>    \r\n        </div>    \r\n    )\r\n}\r\nexport default PublishUrl;"]},"metadata":{},"sourceType":"module"}