{"ast":null,"code":"var _jsxFileName = \"D:\\\\rajan-work\\\\gol\\\\src\\\\components\\\\dashboard\\\\Landing_screen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport uploadicon from \"../../../src/assets/images/plus_icon.svg\";\nimport startscreen from '../../assets/images/start_screen.png';\nimport arrow from \"../../assets/images/arrow.svg\";\nimport liveicon from \"../../assets/images/liveicon.svg\";\nimport { SketchPicker } from 'react-color';\nimport axios from 'axios'; // import  FormData from 'form-data';\n\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LandingScreen = props => {\n  _s();\n\n  console.log('propslanding', props);\n  var camprowId = props.state.campid;\n  var editpage = props.state.editdata ? props.state.editdata : '';\n  const history = useHistory();\n  const [selectedFile, setSelectedFile] = useState();\n  const [FileUrl, setFileUrl] = useState();\n  const [bgColour, setBgColour] = useState();\n  const [bgImage, setBgImage] = useState();\n  const [bgImageUrl, setBgUrl] = useState();\n  const [overlay, setOverlay] = useState();\n  const [overlaycolor, setOverlayColor] = useState();\n  const [message, setSelectedmessage] = useState();\n  const [messagecolor, setmessagecolor] = useState();\n  const [selectTab, setSelectedTab] = useState('0');\n  const [landingItems, setLandingItems] = useState([]); // const [selectedFile, setSelectedFile] = useState();\n  // const changeHandler = (event) => {\n  // \tsetSelectedFile(event.target.files[0]);\n  // };\n  // if(selectedFile){\n  //     var fileName = selectedFile.name;\n  //     var fileExtension = fileName.split('.').pop();\n  //     console.log('selectedFile',fileExtension);\n  // }\n\n  const uploadLogo = () => {\n    document.getElementById('fileDocument').click();\n  };\n\n  const uploadBackground = () => {\n    document.getElementById('upload_bgimg').click();\n  };\n\n  const tabChange = e => {\n    console.log('asdfgsdgsd', e.target.dataset.value);\n    setSelectedTab(e.target.dataset.value);\n  };\n\n  const handleChangeComplete = (color, event) => {\n    setBgColour(color.hex);\n  }; // console.log('bgColour',bgColour);  \n\n\n  const onFileChange = event => {\n    const {\n      files\n    } = event.target;\n    setSelectedFile(files);\n    setFileUrl(URL.createObjectURL(event.target.files[0])); // setFileExtParams(() => getFileExtParams(files[0].type));\n  };\n\n  const changeBgColor = e => {\n    setBgColour(e.target.value);\n  };\n\n  const onBgChange = e => {\n    const {\n      files\n    } = e.target;\n    setBgImage(files);\n    setBgUrl(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const onChangeOverlaycolor = e => {\n    setOverlayColor(e.target.value);\n  };\n\n  const changeMessage = e => {\n    setSelectedmessage(e.target.value);\n  };\n\n  const changeMsgColor = (color, event) => {\n    setmessagecolor(color.hex);\n  }; // console.log('messagecolor',messagecolor);\n  // if(bgImage){\n  // const { overlaytrue } = 'true';\n  // setOverlay(true);\n  // }\n  // console.log('selectTab',selectTab);\n\n\n  useEffect(() => {\n    fetch(`https://viddey-backend.herokuapp.com/api/v1/landing-screens/${camprowId}`, {\n      \"method\": \"GET\",\n      \"headers\": {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(response => response.json()).then(response => {\n      // console.log('response',response);\n      if (response.payload.backgroundImageURL != null) {\n        setSelectedTab(1);\n      }\n\n      editpage = 'edit';\n      setLandingItems(response.payload);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [camprowId]);\n  console.log('landingItems', landingItems);\n\n  const saveLandingScreen = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    var landingscreen = JSON.stringify({\n      message: message,\n      messageColor: {\n        hex: messagecolor\n      },\n      backgroundColor: {\n        hex: bgColour\n      },\n      overlayColor: {\n        hex: overlaycolor\n      }\n    });\n\n    if (selectedFile) {\n      formData.append(\"logo\", selectedFile[0]);\n    }\n\n    if (bgImage) {\n      formData.append(\"background-image\", bgImage[0]);\n    } // // formData.append(\"backgroundColor\", bgColour);\n\n\n    formData.append(\"landing-screen\", landingscreen);\n    const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/landing-screen`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: formData\n    });\n    const landingScreenresult = await result.json();\n\n    if (landingScreenresult.id) {\n      history.push({\n        pathname: \"/branded-gol\",\n        campid: camprowId\n      });\n    }\n  };\n\n  const updateLandingScreen = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    var landingscreen = JSON.stringify({\n      message: message,\n      messageColor: {\n        hex: messagecolor\n      },\n      backgroundColor: {\n        hex: bgColour\n      },\n      overlayColor: {\n        hex: overlaycolor\n      }\n    });\n\n    if (selectedFile) {\n      formData.append(\"logo\", selectedFile[0]);\n    }\n\n    if (bgImage) {\n      formData.append(\"background-image\", bgImage[0]);\n    } // // formData.append(\"backgroundColor\", bgColour);\n\n\n    formData.append(\"landing-screen\", landingscreen);\n    const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/landing-screen`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: formData\n    });\n    const landingScreenupdate = await result.json();\n    console.log('landingScreenupdate', landingScreenupdate);\n\n    if (landingScreenupdate.id) {\n      history.push({\n        pathname: \"/branded-gol\",\n        campid: camprowId,\n        block: ''\n      });\n    }\n  };\n\n  console.log('landingbgColour', bgColour);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"golcampaim-data\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-doc-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"1. Upload Logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Upload your logo in high resolution, preferably using a transparent background file in PNG format\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-block logoupload\",\n              onClick: uploadLogo,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upload\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: uploadicon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Drop logo here or upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  id: \"fileDocument\",\n                  name: \"fileDocument\",\n                  className: \"custom-file-input upload_logo\" // disabled={isUploading}\n                  ,\n                  onChange: onFileChange,\n                  custom: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-doc-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"2. Background\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Make sure the logo and text are clearly visible against the customized background.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-switch\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"bg-switch-light\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: selectTab == 1 ? 'toggle-view' : 'toggle-view activeblock',\n                    \"data-value\": \"0\",\n                    onClick: tabChange,\n                    children: \"Color\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: selectTab == 1 ? 'toggle-view activeblock' : 'toggle-view',\n                    \"data-value\": \"1\",\n                    onClick: tabChange,\n                    children: \"Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                  to: \"/\",\n                  className: \"btn btn-toggle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-color-upload\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: selectTab == 0 ? 'getcolor-code' : 'hideelement',\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Get color code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(SketchPicker, {\n                  onChangeComplete: handleChangeComplete\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: selectTab == 1 ? 'background-image' : 'hideelement',\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"bg-image uploadbgimage\",\n                  onClick: uploadBackground,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"upload\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: uploadicon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Drop logo here or upload\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      name: \"background_image\",\n                      id: \"upload_bgimg\",\n                      onChange: onBgChange,\n                      className: \"upload_bgimg hidefile\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"overlaytext\",\n                  children: \"Overlay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"overlay-option\",\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"radio\",\n                          name: \"overlayColor\",\n                          onChange: onChangeOverlaycolor,\n                          \"data-value\": \"\",\n                          value: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 217,\n                          columnNumber: 60\n                        }, this), \"No\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"radio\",\n                          name: \"overlayColor\",\n                          onChange: onChangeOverlaycolor,\n                          \"data-value\": \"black\",\n                          value: \"black\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 60\n                        }, this), \"Black\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"radio\",\n                          name: \"overlayColor\",\n                          onChange: onChangeOverlaycolor,\n                          \"data-value\": \"white\",\n                          value: \"white\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 60\n                        }, this), \"White\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-doc-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"3. Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Input Landing Screen Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"form-control\",\n                name: \"message\",\n                placeholder: \"Message\",\n                onChange: changeMessage,\n                children: landingItems != null ? landingItems.message : 'srtr'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-doc-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"4. Message color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Make sure the text is clearly visible against the customized background.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(SketchPicker, {\n                onChangeComplete: changeMsgColor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"livebg\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: startscreen\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"selectedimage\",\n              src: FileUrl ? FileUrl : landingItems != null ? landingItems.logoURL : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"selectedbgimage\",\n              src: bgImageUrl ? bgImageUrl : landingItems != null ? landingItems.backgroundImageURL : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: overlaycolor ? overlaycolor : landingItems != null ? landingItems.overlayColor : '',\n              id: \"overlaycolor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"livebutton\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"download-btn gradien-transparent-bg\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: liveicon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 89\n                }, this), \"Live Page\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        name: \"next-step\",\n        onClick: saveLandingScreen,\n        className: editpage == 'edit' ? 'hideelement' : 'next-step btn btn-gradient',\n        value: \"Save and Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        name: \"next-step\",\n        onClick: updateLandingScreen,\n        className: editpage == 'edit' ? 'next-step btn btn-gradient' : 'hideelement',\n        value: \"Update and Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 13\n  }, this);\n};\n\n_s(LandingScreen, \"mxAMFrC1Pb1pzQzO2hIauewjLnQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = LandingScreen;\nexport default LandingScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"LandingScreen\");","map":{"version":3,"sources":["D:/rajan-work/gol/src/components/dashboard/Landing_screen.js"],"names":["React","useState","useEffect","NavLink","Link","useHistory","startscreen","SketchPicker","axios","$","LandingScreen","props","console","log","camprowId","state","campid","editpage","editdata","history","selectedFile","setSelectedFile","FileUrl","setFileUrl","bgColour","setBgColour","bgImage","setBgImage","bgImageUrl","setBgUrl","overlay","setOverlay","overlaycolor","setOverlayColor","message","setSelectedmessage","messagecolor","setmessagecolor","selectTab","setSelectedTab","landingItems","setLandingItems","uploadLogo","document","getElementById","click","uploadBackground","tabChange","e","target","dataset","value","handleChangeComplete","color","event","hex","onFileChange","files","URL","createObjectURL","changeBgColor","onBgChange","onChangeOverlaycolor","changeMessage","changeMsgColor","fetch","localStorage","getItem","then","response","json","payload","backgroundImageURL","catch","err","saveLandingScreen","preventDefault","formData","FormData","landingscreen","JSON","stringify","messageColor","backgroundColor","overlayColor","append","result","method","headers","body","landingScreenresult","id","push","pathname","updateLandingScreen","landingScreenupdate","block","uploadicon","logoURL","liveicon"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport { NavLink,Link,useHistory } from 'react-router-dom';\r\nimport uploadicon from '../../../src/assets/images/plus_icon.svg';\r\nimport startscreen from '../../assets/images/start_screen.png';\r\nimport arrow from '../../assets/images/arrow.svg';\r\nimport liveicon from '../../assets/images/liveicon.svg';\r\nimport { SketchPicker } from 'react-color';\r\nimport axios from 'axios';\r\n// import  FormData from 'form-data';\r\nimport $ from'jquery';\r\nconst LandingScreen = (props) => {\r\n    console.log('propslanding',props);\r\n    var camprowId =  props.state.campid;\r\n    var editpage =  (props.state.editdata) ? props.state.editdata :'';\r\n    const history = useHistory();\r\n    const [selectedFile, setSelectedFile] = useState();\r\n    const [FileUrl, setFileUrl] = useState();\r\n    const [bgColour, setBgColour] = useState();\r\n    const [bgImage, setBgImage] = useState();\r\n    const [bgImageUrl, setBgUrl] = useState();\r\n    const [overlay, setOverlay] = useState();\r\n    const [overlaycolor, setOverlayColor] = useState();\r\n    const [message, setSelectedmessage] = useState();\r\n    const [messagecolor, setmessagecolor] = useState();\r\n    const [selectTab, setSelectedTab] = useState('0');\r\n    const [landingItems, setLandingItems] = useState([]);\r\n    // const [selectedFile, setSelectedFile] = useState();\r\n    // const changeHandler = (event) => {\r\n\t// \tsetSelectedFile(event.target.files[0]);\r\n\t// };\r\n    // if(selectedFile){\r\n    //     var fileName = selectedFile.name;\r\n    //     var fileExtension = fileName.split('.').pop();\r\n    //     console.log('selectedFile',fileExtension);\r\n    // }\r\n    const uploadLogo = () => {\r\n        document.getElementById('fileDocument').click();\r\n    }\r\n    const uploadBackground = () => {\r\n        document.getElementById('upload_bgimg').click();\r\n    }\r\n    \r\n    const tabChange = (e) => {\r\n        console.log('asdfgsdgsd',e.target.dataset.value);\r\n        setSelectedTab(e.target.dataset.value);\r\n    }\r\n\r\n    const handleChangeComplete = (color, event) => {\r\n        setBgColour(color.hex);\r\n      };\r\n    // console.log('bgColour',bgColour);  \r\n    const onFileChange = (event) => {\r\n        const { files } = event.target;\r\n        setSelectedFile(files);\r\n        setFileUrl(URL.createObjectURL(event.target.files[0]));\r\n    // setFileExtParams(() => getFileExtParams(files[0].type));\r\n    };\r\n    const changeBgColor = (e) => {\r\n        setBgColour(e.target.value);\r\n    }\r\n    const onBgChange = (e) => {\r\n        const { files } = e.target;\r\n        setBgImage(files);\r\n        setBgUrl(URL.createObjectURL(e.target.files[0]));\r\n    }\r\n    const onChangeOverlaycolor = (e) => {\r\n        setOverlayColor(e.target.value);\r\n    }\r\n    const changeMessage = (e) => {\r\n        setSelectedmessage(e.target.value);\r\n    }\r\n    const changeMsgColor = (color, event) => {\r\n        setmessagecolor(color.hex);\r\n    }\r\n    // console.log('messagecolor',messagecolor);\r\n    // if(bgImage){\r\n        // const { overlaytrue } = 'true';\r\n        // setOverlay(true);\r\n    // }\r\n    // console.log('selectTab',selectTab);\r\n\r\n    useEffect(() => {\r\n        fetch(`https://viddey-backend.herokuapp.com/api/v1/landing-screens/${camprowId}`, {\r\n                \"method\": \"GET\",\r\n                \"headers\": {\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n                }\r\n            })\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                // console.log('response',response);\r\n                if(response.payload.backgroundImageURL != null){\r\n                    setSelectedTab(1);\r\n                }\r\n                editpage = 'edit';\r\n                setLandingItems(response.payload);\r\n            })\r\n            .catch(err => { console.log(err); \r\n            });\r\n    }, [camprowId])\r\n\r\n    console.log('landingItems',landingItems);\r\n\r\n    const saveLandingScreen = async(e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        var landingscreen = JSON.stringify({message:message, messageColor:{hex:messagecolor}, backgroundColor:{hex:bgColour}, overlayColor:{hex:overlaycolor}});\r\n        if(selectedFile){\r\n            formData.append(\"logo\", selectedFile[0]);\r\n        }\r\n        if(bgImage){\r\n            formData.append(\"background-image\", bgImage[0]);\r\n        }\r\n        // // formData.append(\"backgroundColor\", bgColour);\r\n        formData.append(\"landing-screen\", landingscreen);\r\n        const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/landing-screen`,{\r\n            method : \"POST\",\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            body: formData\r\n        });\r\n        const landingScreenresult = await result.json();\r\n        if(landingScreenresult.id){\r\n            history.push({  \r\n                pathname: \"/branded-gol\",\r\n                campid: camprowId,\r\n            });  \r\n        }\r\n    }\r\n    const updateLandingScreen = async(e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        var landingscreen = JSON.stringify({message:message, messageColor:{hex:messagecolor}, backgroundColor:{hex:bgColour}, overlayColor:{hex:overlaycolor}});\r\n        if(selectedFile){\r\n            formData.append(\"logo\", selectedFile[0]);\r\n        }\r\n        if(bgImage){\r\n            formData.append(\"background-image\", bgImage[0]);\r\n        }\r\n        // // formData.append(\"backgroundColor\", bgColour);\r\n        formData.append(\"landing-screen\", landingscreen);\r\n        const result = await fetch(`https://viddey-backend.herokuapp.com/api/v1/campaigns/${camprowId}/landing-screen`,{\r\n            method : \"POST\",\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            body: formData\r\n        });\r\n        const landingScreenupdate = await result.json();\r\n        console.log('landingScreenupdate',landingScreenupdate);\r\n        if(landingScreenupdate.id){\r\n            history.push({  \r\n                pathname: \"/branded-gol\",\r\n                campid: camprowId,\r\n                block: '',\r\n            });  \r\n        }\r\n    }\r\n    \r\n    console.log('landingbgColour',bgColour); \r\n    return(\r\n            <div className=\"golcampaim-data\">\r\n             {/* <fieldset> */}\r\n                {/* <form method=\"post\" enctype=\"multipart/form-data\"> */}\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-8\">\r\n                            <div className=\"upload-doc-block\">                                                \r\n                                <h2>1. Upload Logo</h2>\r\n                                <p>Upload your logo in high resolution, preferably using a transparent background file in PNG format</p>\r\n                                <div className=\"upload-block logoupload\" onClick={uploadLogo}>\r\n                                    <div className=\"upload\">\r\n                                        <img src={uploadicon} />\r\n                                        <p>Drop logo here or upload</p>\r\n                                        <input type=\"file\"\r\n                                            id=\"fileDocument\"\r\n                                            name=\"fileDocument\"\r\n                                            className=\"custom-file-input upload_logo\"\r\n                                            // disabled={isUploading}\r\n                                            onChange={onFileChange}\r\n                                            custom={true} />\r\n                                        {/* <input type=\"file\" name=\"logoName\" id=\"upload_logo\" onChange={changeHandler} className=\"upload_logo hidefile\" /> */}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"upload-doc-block\">                                                \r\n                                <h2>2. Background</h2>\r\n                                <p>Make sure the logo and text are clearly visible against the customized background.</p>\r\n                                <div className=\"bg-switch\">\r\n                                    <label className=\"bg-switch-light\">\r\n                                    <input type=\"checkbox\"></input>\r\n                                            <span>\r\n                                                <span className={(selectTab == 1) ? 'toggle-view' :'toggle-view activeblock'} data-value=\"0\" onClick={tabChange}>Color</span>\r\n                                                <span className={(selectTab == 1) ? 'toggle-view activeblock' :'toggle-view'} data-value=\"1\" onClick={tabChange}>Image</span>\r\n                                            </span>\r\n                                            <NavLink to=\"/\" className=\"btn btn-toggle\"></NavLink>\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"image-color-upload\">\r\n                                    <div className={(selectTab == 0) ? 'getcolor-code' :'hideelement'}>\r\n                                        <h2>Get color code</h2>\r\n                                        <SketchPicker onChangeComplete={ handleChangeComplete } />\r\n                                        {/* <input type=\"color\" id=\"favcolor\" name=\"backgroundColor\" value={bgColour} onChange={changeBgColor} /> */}\r\n                                    </div>\r\n                                    <div className={(selectTab == 1) ? 'background-image' :'hideelement'}>\r\n                                        <div class=\"bg-image uploadbgimage\" onClick={uploadBackground}>\r\n                                            <div class=\"upload\">\r\n                                                <img src={uploadicon} />\r\n                                                <p>Drop logo here or upload</p>\r\n                                                <input type=\"file\" name=\"background_image\" id=\"upload_bgimg\" onChange={onBgChange} className=\"upload_bgimg hidefile\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <p className=\"overlaytext\">Overlay</p>\r\n                                        <div className=\"overlay-option\">\r\n                                            <ul>\r\n                                                <li><label><input type=\"radio\" name=\"overlayColor\" onChange={onChangeOverlaycolor} data-value=\"\" value=\"\" />No</label></li>\r\n                                                <li><label><input type=\"radio\" name=\"overlayColor\" onChange={onChangeOverlaycolor} data-value=\"black\" value=\"black\" />Black</label></li>\r\n                                                <li><label><input type=\"radio\" name=\"overlayColor\" onChange={onChangeOverlaycolor} data-value=\"white\" value=\"white\" />White</label></li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"upload-doc-block\">                                                \r\n                                <h2>3. Message</h2>\r\n                                <p>Input Landing Screen Message</p>\r\n                                <div className=\"form-group\">\r\n                                    <textarea className=\"form-control\" name=\"message\" placeholder=\"Message\"  onChange={changeMessage}>{(landingItems != null) ? landingItems.message :'srtr'}</textarea>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"upload-doc-block\">                                                \r\n                                <h2>4. Message color</h2>\r\n                                <p>Make sure the text is clearly visible against the customized background.</p>\r\n                                <div className=\"form-group\">\r\n                                    <SketchPicker onChangeComplete={ changeMsgColor } />\r\n                                    {/* <input type=\"color\" id=\"favcolor1\" className=\"favcolor\" name=\"messageColor\" value={messagecolor} onChange={changeMsgColor} /> */}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                            <div className=\"livebg\">\r\n                                <img src={startscreen} />\r\n                                {/* {FileUrl && <ImageThumb image={selectedFile} />} */}\r\n                                <img className=\"selectedimage\" src={(FileUrl) ? FileUrl : (landingItems != null) ? landingItems.logoURL : ''} />\r\n                                <img className=\"selectedbgimage\" src={(bgImageUrl)?bgImageUrl: (landingItems != null) ? landingItems.backgroundImageURL : ''} />\r\n                                <div className={(overlaycolor)?overlaycolor: (landingItems != null) ? landingItems.overlayColor : ''} id=\"overlaycolor\"></div>\r\n                                <div class=\"livebutton\">\r\n                                    <button class=\"download-btn gradien-transparent-bg\"><img src={liveicon} />Live Page</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>    \r\n                </div>\r\n                <div className=\"col-md-8\">   \r\n                    <input type=\"button\" name=\"next-step\" onClick={saveLandingScreen} className={(editpage == 'edit') ? 'hideelement':'next-step btn btn-gradient'} value=\"Save and Continue\" ></input>\r\n                    <input type=\"button\" name=\"next-step\"  onClick={updateLandingScreen} className={(editpage == 'edit') ? 'next-step btn btn-gradient':'hideelement'} value=\"Update and Continue\" ></input>\r\n                </div>\r\n                {/* </form> */}\r\n         {/* </fieldset> */}\r\n            </div>\r\n        )\r\n}\r\nexport default  LandingScreen;"]},"metadata":{},"sourceType":"module"}